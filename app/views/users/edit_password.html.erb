<div class="panel panel-default panel-login">
  <%= form_for @user, url: myrafflr_path, html: { class: "form-horizontal panel-body", multipart: true } do |f| %>
    <div class="col-sm-12">
      <h1>Update password</h1>
    </div>
    <div class="form-group">
      <%= f.label :password, {class: "col-sm-12 form-label"}%>
      <div class="col-sm-12">
        <%= f.password_field :password, {class: "form-control"} %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :confirm_password, {class: "col-sm-12 form-label"}%>
      <div class="col-sm-12">
        <%= f.password_field :confirm_password, {class: "form-control"} %>
      </div>
    </div>

    <%= f.submit 'Update', {class: 'btn btn-default', id: 'submit'} %>
    <span id='message'></span>

    <div class="col-sm-12">
      <%= link_to 'Back', myrafflr_path %>
    </div>
  <% end %>

</div>

<script>
$(document).ready(function() {
  $('#submit').prop('disabled', true);
  $('#user_password, #user_confirm_password').on('keyup', function () {
    if ($('#user_password').val() == $('#user_confirm_password').val() && $('#user_password').val().length) {
        $('#message').html('Matching').css('color', 'green');
        $('#submit').prop('disabled', false);
    } else {
        if($('#user_password').val().length) {
          $('#message').html('Not Matching').css('color', 'red');
        } else {
          $('#message').html('Not Long Enough').css('color', 'red');
        }
        $('#submit').prop('disabled', true);
    }
  });
});
</script>